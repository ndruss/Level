{"version":3,"sources":["../src/js/index.js"],"names":["handleOrientation","event","x","gamma","toFixed","y","beta","ax","Math","abs","ay","offset","max","inRange","opacity","ball","style","transform","concat","debug","og","innerHTML","ob","debugOutput","debugOpacity","axis","background","ballGreen","target","borderColor","document","querySelector","getElementById","body","classList","add","window","addEventListener"],"mappings":"aAqBA,SAASA,kBAAkBC,GACzB,IAAIC,EAAID,EAAME,MAAMC,QAAQ,GACxBC,EAAIJ,EAAMK,KAAKF,QAAQ,GAEvBG,EAAKC,KAAKC,IAAIP,GACdQ,EAAKF,KAAKC,IAAIJ,GAEdM,EAASH,KAAKI,IAAIL,EAAIG,GACtBG,EAAUF,EAAS,GAEnBG,GAAW,EAAIH,EAAO,KAAKP,QAAQ,GAGvCW,KAAKC,MAAMC,UAAX,aAAAC,OAAoChB,EAApC,QAAAgB,OAA4Cb,EAA5C,OAEIc,QACFC,GAAGC,UAAYnB,EACfoB,GAAGD,UAAYhB,EACfkB,YAAYF,UAAYV,EACxBa,aAAaH,UAAYP,GAIzBW,KAAKvB,EAAEc,MAAMU,WADXnB,EAAK,EACmBoB,UAEA,OAG5BF,KAAKvB,EAAEc,MAAMU,WAAahB,EAAK,EAAIiB,UAAY,OAC/CF,KAAKpB,EAAEW,MAAMU,WAAanB,EAAK,EAAIoB,UAAY,OAE3ChB,EAAS,EACXiB,OAAOZ,MAAMa,YAAcF,WAG3BZ,KAAKC,MAAMF,QAAUD,EAAUC,EAAU,EACzCc,OAAOZ,MAAMa,YAAc,QAxD/B,IAAMV,OAAQ,EAGRS,OAASE,SAASC,cAAc,WAChChB,KAAOe,SAASC,cAAc,WAC9BJ,UAAY,UACZL,GAAKQ,SAASC,cAAc,SAC5BX,GAAKU,SAASC,cAAc,UAC5BR,YAAcO,SAASE,eAAe,SACtCR,aAAeM,SAASE,eAAe,iBAEvCP,KAAO,CACXvB,EAAG4B,SAASC,cAAc,WAC1B1B,EAAGyB,SAASC,cAAc,YAGxBZ,OACFW,SAASG,KAAKC,UAAUC,IAAI,SA4C9BC,OAAOC,iBAAiB,oBAAqBrC","sourcesContent":["\nconst debug = false;\n\n// const level = document.querySelector('.level');\nconst target = document.querySelector('.target');\nconst ball = document.querySelector('.marker');\nconst ballGreen = '#a2fa66';\nconst ob = document.querySelector('.beta');\nconst og = document.querySelector('.gamma');\nconst debugOutput = document.getElementById('debug');\nconst debugOpacity = document.getElementById('debug-opacity');\n\nconst axis = {\n  x: document.querySelector('.x-axis'),\n  y: document.querySelector('.y-axis')\n}\n\nif (debug) {\n  document.body.classList.add('debug');\n}\n\nfunction handleOrientation(event) {\n  let x = event.gamma.toFixed(1); // In degree in the range [-90,90]\n  let y = event.beta.toFixed(1);  // In degree in the range [-180,180]\n\n  let ax = Math.abs(x);\n  let ay = Math.abs(y);\n\n  let offset = Math.max(ax, ay);\n  let inRange = offset < 90 ? true : false;\n\n  let opacity = (1 - offset/100).toFixed(2);\n\n  // Update position\n  ball.style.transform = `translate(${x}px, ${y}px)`;\n\n  if (debug) {\n    og.innerHTML = x;\n    ob.innerHTML = y;\n    debugOutput.innerHTML = offset;\n    debugOpacity.innerHTML = opacity;\n  }\n\n  if (ax < 1) {\n    axis.x.style.background = ballGreen;\n  } else {\n    axis.x.style.background = '#888';\n  }\n\n  axis.x.style.background = ay < 1 ? ballGreen : '#888';\n  axis.y.style.background = ax < 1 ? ballGreen : '#888';\n\n  if (offset < 1) {\n    target.style.borderColor = ballGreen;\n  } else {\n    // Update opacity\n    ball.style.opacity = inRange ? opacity : 0;\n    target.style.borderColor = '#888';\n  }\n\n}\n\nwindow.addEventListener('deviceorientation', handleOrientation);\n"]}